(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(57)},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),s=a(2),i=a(8),l=a(14),m=a(15),u=a.n(m);function d(e){var t=e.name,a=e.email,n=e.phone,r=e.website,o=e.companyName,s=e.companyCatchPhrase,l=e.companyBs,m=e.dispatchAuthor,u=e.id;return c.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},c.a.createElement("div",{className:"uk-card-header"},c.a.createElement("div",{className:"uk-grid-small uk-flex-middle"},c.a.createElement("div",{className:"uk-width-auto"},c.a.createElement("div",{className:"uk-width-expand"},c.a.createElement("h3",{className:"uk-card-title uk-margin-remove-bottom main-title"},t)))),c.a.createElement("div",{className:"uk-card-body"},c.a.createElement("div",{className:"cards-main-left"},c.a.createElement("div",null,c.a.createElement("a",{href:"#"}," ",a," ")),c.a.createElement("div",null,c.a.createElement("a",{href:"#"},n)),c.a.createElement("div",null,c.a.createElement("a",{href:"#"},r))),c.a.createElement("div",{className:"cards-main-left"},c.a.createElement("div",null," ",o," "),c.a.createElement("div",null," ",s," "),c.a.createElement("div",null," ",l," "))),c.a.createElement("div",{className:"uk-card-footer"},c.a.createElement(i.b,{to:{pathname:"/".concat(u,"/posts")},onClick:m,key:u,username:t,className:"uk-button uk-button-primary"},"Details"))))}var E=a(58),p="https://jsonplaceholder.typicode.com",f=function(e,t,a){return{url:e,method:t,body:a}},b=function(e){throw new Error(e)},v=function(){return function(e){Object(E.a)("".concat(p,"/users")).subscribe(function(t){var a=t.response;e({type:"FETCH_USERS",payload:a})},function(e){return b(e)})}},N=function(e,t){e({type:t})};function k(){var e=function(){var e=Object(s.b)(),t=Object(s.c)(function(e){return e.users}),a=function(){return e(v())};return Object(n.useEffect)(function(){try{a()}catch(e){b(e)}return function(){return a()}},[]),{user:t}}().user;return c.a.createElement("div",{className:"container-user"},c.a.createElement("div",{className:"uk-grid-large uk-child-width-expand@s uk-text-center main-grid2","uk-grid":"false"},e.users.length?e.users.map(function(e){var t=e.id,a=e.name,n=e.email,r=e.phone,o=e.website,s=e.company;return c.a.createElement(d,{key:t,id:t,name:a,email:n,phone:r,website:o,companyName:s.name,companyBs:s.bs,companyCatchPhrase:s.catchPhrase})}):c.a.createElement(u.a,{size:120,spinnerColor:"#333",spinnerWidth:2,visible:!0})))}var h=a(12),y=a(5),O=a(22),j=a.n(O),g=function(e,t,a){return e.filter(function(e){return e[t]===a})},C=function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),c=a[0],r=a[1],o=function(e){return e.includes("Adding")||e.includes("Removing")?r("info"):e.includes("Success")?r("success"):e.includes("Error")?r("error"):void r("normal")};return Object(n.useEffect)(function(){return o(e),function(){return o(e)}},[e]),{notificationClassName:c}};function I(e){var t=e.post,a=e.nameAuthor;return c.a.createElement("div",{className:"header-posts"},c.a.createElement("div",{className:"uk-child-width-1-3@m uk-grid-small uk-grid-match","uk-grid":"false"},c.a.createElement("div",{className:"uk-card uk-card-body main-cards-posts-left"},c.a.createElement("h3",{className:"uk-card-title"},t.map(function(e){var t=e.id;return c.a.createElement(i.b,{className:"arrow-back",key:t,to:{pathname:"/".concat(t,"/posts")}},c.a.createElement("span",{"uk-icon":"icon: reply; ratio: 2"}),"Back")}))),c.a.createElement("div",null,c.a.createElement("div",{className:"uk-card uk-card-body main-cards-posts-center"},c.a.createElement("h3",{className:"uk-card-title main-author-post"},a)))))}var S=function(e){var t=e.name,a=e.children;return c.a.createElement("tr",null,c.a.createElement("td",{className:"body-container-form"},t),c.a.createElement("td",{className:"body-container-form2"},a))},T=function(e){var t=e.notification,a=e.notificationClassName;return c.a.createElement("div",{className:"notification-container__".concat(a)},c.a.createElement("p",{className:"notification"},t))},w=function(e){var t=e.closeModal,a=e.postId,r=Object(s.b)(),o=Object(n.useState)(""),i=Object(y.a)(o,2),l=i[0],m=i[1],u=Object(n.useState)(""),d=Object(y.a)(u,2),v=d[0],k=d[1],h=Object(n.useState)(""),O=Object(y.a)(h,2),j=O[0],g=O[1],C=function(e){var t=e.target.name;return"name"===t?m(e.target.value):"email"===t?g(e.target.value):"body"===t?k(e.target.value):void 0},I=[{name:"name",type:"text",value:l,placeholder:"Name"},{name:"email",type:"email",value:j,placeholder:"E-mail"}];return c.a.createElement("div",{className:"container-modal"},c.a.createElement("div",{className:"container-my-modal"},c.a.createElement("div",{className:"container-post-form-main"},c.a.createElement("div",{className:"title-post-form"},"Add comment"),c.a.createElement("div",{className:"container-post-form2"},c.a.createElement("h1",{className:"title-modal-post"},"Add Comment"),c.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),r((n={name:l,body:v,email:j,postId:a},function(e){N(e,"PENDING"),Object(E.a)(f("".concat(p,"/comments"),"POST",n)).subscribe(function(t){var a=t.response,n=a.body,c=a.email,r=a.id,o=a.name,s=a.postId;e({type:"NEW_COMMENT",payload:{body:n,email:c,name:o,id:+r,postId:+s}}),N(e,"SUCCESS"),setTimeout(function(){return N(e,"INITIAL")},2e3)},function(t){N(e,"ERROR"),setTimeout(function(){return N(e,"INITIAL")},5e3),b(t)})})),t()}},c.a.createElement("table",{className:"uk-table uk-table-justify uk-table-divider"},c.a.createElement("tbody",null,I.map(function(e){var t=e.name,a=e.type,n=e.value,r=e.placeholder;return c.a.createElement(S,{key:t,name:t,children:c.a.createElement("input",{className:"text-place-post-form",name:t,type:a,value:n,placeholder:r,onChange:C,required:!0})})}),c.a.createElement(S,{name:"Body",children:c.a.createElement("textarea",{className:"text-place-post-form text-area-main",value:v,name:"body",placeholder:"Body",onChange:C,required:!0})}))),c.a.createElement("div",{className:"container-button-post"},c.a.createElement("button",{onClick:t,className:"uk-button uk-button-danger main-button-style"},"Cancel"),c.a.createElement("button",{className:"uk-button uk-button-primary main-button-style",type:"submit"},"Save")))),c.a.createElement("div",{className:"title-post-form-down"}))))};function x(e){var t=e.title,a=e.body;return c.a.createElement("div",{className:"container-to-comments"},c.a.createElement("div",{className:"container-post-cards one-post-container"},c.a.createElement("div",{className:"uk-text-center","uk-grid":"false"},c.a.createElement("div",{className:"uk-width-expand@m card-center-title"},c.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},c.a.createElement("div",{className:"title-one-post"},t),c.a.createElement("div",{className:"body-one-post"},a))))))}function A(e){var t=e.isActive,a=e.activeComments,n=e.toggleModal;return c.a.createElement("div",{className:"container-for-buttons-commments"},c.a.createElement("div",{className:"uk-card uk-card-body main-cards-posts-left"},c.a.createElement("h3",{className:"uk-card-title cont-button"},c.a.createElement("span",{className:"icon-add-comments","uk-icon":t?"icon:  arrow-up; ratio: 2":"icon:  arrow-down; ratio: 2",onClick:a}),c.a.createElement("div",{className:"title-button-add-comment"},t?"Hide comments":"Show Commments"))),c.a.createElement("div",null,c.a.createElement("div",{className:"uk-card uk-card-body main-cards-posts-right"},c.a.createElement("h3",{className:"uk-card-title cont-button"},c.a.createElement("span",{className:"icon-add-comments","uk-icon":"icon:  plus-circle; ratio: 2",onClick:n}),c.a.createElement("div",{className:"title-button-add-comment"},"Add Comment")))))}function R(e){var t=e.name,a=e.email,n=e.body;return c.a.createElement("div",{className:"container-post-cards"},c.a.createElement("div",{className:"uk-text-center","uk-grid":"false"},c.a.createElement("div",{className:"uk-width-expand@m card-center-title"},c.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},c.a.createElement("h3",{className:"uk-card-title comments-header"},c.a.createElement("div",{id:"d1"},t),c.a.createElement("div",{id:"d2",className:"span-email"},c.a.createElement("a",{href:"email"},a))),c.a.createElement("div",null,n)))))}var M=function(){var e=Object(s.b)(),t=Object(l.f)(),a=Object(n.useState)(!1),r=Object(y.a)(a,2),o=r[0],i=r[1],m=Object(n.useState)(!1),d=Object(y.a)(m,2),f=d[0],v=d[1],N=Object(s.c)(function(e){return e.comment.comment}),k=Object(s.c)(function(e){return e.users.users}),O=Object(s.c)(function(e){return e.posts.posts}),S=Object(s.c)(function(e){return e.notification.notification}),M=C(S).notificationClassName,P=function(){return e(function(e){Object(E.a)("".concat(p,"/comments")).subscribe(function(t){var a=t.response;e({type:"FETCH_COMMENTS",payload:a})},function(e){return b(e)})})},_=function(){return i(!o)};Object(n.useEffect)(function(){try{P()}catch(e){b(e)}return function(){return P()}},[]);var L=g(O,"id",+t.postId),D=g(k,"id",L.map(function(e){return e.userId})[0]),H=c.a.createElement(u.a,{size:120,spinnerColor:"#333",spinnerWidth:2,visible:!0});return c.a.createElement("div",{className:"container-posts-main"},D.length?c.a.createElement(I,{post:D,nameAuthor:D[0].name}):null,L.length?L.map(function(e,t){var a=e.title,n=e.body;return c.a.createElement(x,{key:t,title:a,body:n})}):H,S&&c.a.createElement(T,Object.assign({notificationClassName:M},{notification:c.a.createElement(c.a.Fragment,null,Object(h.a)(S).map(function(e,t){return c.a.createElement("span",{key:t},e)}))})),c.a.createElement(A,{isActive:f,activeComments:function(){return v(!f)},toggleModal:function(){return _()}}),c.a.createElement("div",{className:f?"container-comments-show--active":"container-comments-show"},N.length>1?N.filter(function(e){return e.postId===+t.postId}).map(function(e,t){var a=e.name,n=e.body,r=e.email;return c.a.createElement(R,{key:t,name:a,body:n,email:r})}):H),c.a.createElement(j.a,{isOpen:o,contentLabel:"onRequestClose Example",onRequestClose:_,className:"Modal",overlayClassName:"Overlay mainOverlay",ariaHideApp:!1},c.a.createElement(w,{postId:+t.postId,closeModal:function(){return _()}})))},P=(a(55),function(e){var t=e.closeModal,a=e.userId,r=Object(s.b)(),o=Object(n.useState)(""),i=Object(y.a)(o,2),l=i[0],m=i[1],u=Object(n.useState)(""),d=Object(y.a)(u,2),v=d[0],k=d[1],h=function(e){var t=e.target.name;return"title"===t?m(e.target.value):"body"===t?k(e.target.value):void 0};return c.a.createElement("div",{className:"container-modal"},c.a.createElement("div",{className:"container-my-modal"},c.a.createElement("div",{className:"container-post-form-main"},c.a.createElement("div",{className:"title-post-form"},"Add comment"),c.a.createElement("div",{className:"container-post-form2"},c.a.createElement("h1",{className:"title-modal-post"},"Add Comment"),c.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),r((n={title:l,body:v,userId:+a},function(e){N(e,"PENDING"),Object(E.a)(f("".concat(p,"/posts"),"POST",n)).subscribe(function(t){var a=t.response,n=a.userId,c=a.body,r=a.id,o=a.title;e({type:"NEW_POST",payload:{title:o,body:c,userId:+n,id:+r}}),N(e,"SUCCESS"),setTimeout(function(){return N(e,"INITIAL")},2e3)},function(t){N(e,"ERROR"),setTimeout(function(){return N(e,"INITIAL")},5e3),b(t)})})),t()}},c.a.createElement("table",{className:"uk-table uk-table-justify uk-table-divider"},c.a.createElement("tbody",null,c.a.createElement(S,{name:"Title",children:c.a.createElement("input",{className:"text-place-post-form",name:"title",type:"text",placeholder:"Title",value:l,onChange:h,required:!0})}),c.a.createElement(S,{name:"Body",children:c.a.createElement("textarea",{className:"text-place-post-form text-area-main",name:"body",placeholder:"Body",value:v,onChange:h,required:!0})}))),c.a.createElement("div",{className:"container-button-post"},c.a.createElement("button",{onClick:t,className:"uk-button uk-button-danger main-button-style"},"Cancel"),c.a.createElement("button",{className:"uk-button uk-button-primary main-button-style",type:"submit"},"Save")))),c.a.createElement("div",{className:"title-post-form-down"}))))}),_=a(34),L=a.n(_);function D(e){var t=e.title,a=e.handleDeletedPost,n=e.pathnameId,r=e.name;return c.a.createElement("div",{className:"container-post-cards"},c.a.createElement("div",{className:"uk-text-center","uk-grid":"false"},c.a.createElement("div",{id:"c1",className:"uk-width-auto@m"},c.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},c.a.createElement("span",{className:"icon-go-to-trash","uk-icon":"icon: trash; ratio: 2",onClick:a}))),c.a.createElement("div",{id:"c2",className:"uk-width-expand@m card-center-title"},c.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},c.a.createElement(L.a,{truncateText:"\u2026",line:1,text:t}))),c.a.createElement("div",{id:"c3",className:"uk-width-1-3@m"},c.a.createElement("div",{className:"uk-card uk-card-default uk-card-body button-go-to-post"},c.a.createElement(i.b,{to:{pathname:"/".concat(n,"/post-comments")},username:r,className:"uk-button"},c.a.createElement("span",{"uk-icon":"icon: chevron-right; ratio: 2"}))))))}function H(e){var t=e.nameAuthor,a=e.toggleModal;return c.a.createElement("div",{className:"header-posts"},c.a.createElement("div",{className:"uk-child-width-1-3@m uk-grid-small uk-grid-match","uk-grid":"false"},c.a.createElement("div",{id:"h1"},c.a.createElement("div",{className:"uk-card uk-card-body main-cards-posts-left"},c.a.createElement("h3",{className:"uk-card-title"},c.a.createElement(i.b,{className:"arrow-back",to:"/"},c.a.createElement("span",{"uk-icon":"icon: reply; ratio: 2"}),"Back")))),c.a.createElement("div",{id:"h2"},c.a.createElement("div",{className:"uk-card uk-card-body main-cards-posts-center"},c.a.createElement("h3",{className:"uk-card-title main-author-post"},t))),c.a.createElement("div",{id:"h3"},c.a.createElement("div",{className:"uk-card uk-card-body main-cards-posts-right"},c.a.createElement("h3",{className:"uk-card-title"},c.a.createElement("span",{className:"icon-add-post","uk-icon":"icon: plus-circle; ratio: 2",onClick:a}))))))}var F=function(){var e=Object(s.b)(),t=Object(l.f)(),a=Object(n.useState)(!1),r=Object(y.a)(a,2),o=r[0],i=r[1],m=Object(s.c)(function(e){return e.posts.posts}),d=Object(s.c)(function(e){return e.users.user}),v=Object(s.c)(function(e){return e.notification.notification}),k=C(v).notificationClassName,O=function(){return e((a=+t.userId,function(e){Object(E.a)("".concat(p,"/users/").concat(a,"/posts")).subscribe(function(t){var a=t.response;e({type:"FETCH_POSTS",payload:a})},function(e){return b(e)})}));var a},g=function(){return e((a=+t.userId,function(e){Object(E.a)("".concat(p,"/users/").concat(a)).subscribe(function(t){var a=t.response;e({type:"FETCH_SINGLE_USERS",payload:a})},function(e){return b(e)})}));var a},I=function(){return i(!o)},S=function(t){return e(function(e){return function(t){N(t,"DELETE"),Object(E.a)(f("".concat(p,"/posts/").concat(e),"DELETE")).subscribe(function(a){t({type:"DELETE_POST",payload:e||a}),N(t,"SUCCESS"),setTimeout(function(){return N(t,"INITIAL")},2e3)},function(e){N(t,"ERROR"),setTimeout(function(){return N(t,"INITIAL")},5e3),b(e)})}}(+t))},w=c.a.createElement(u.a,{size:120,spinnerColor:"#333",spinnerWidth:2,visible:!0});return Object(n.useEffect)(function(){try{O(),g()}catch(e){b(e)}return function(){return O()}},[]),c.a.createElement("div",{className:"container-posts-main"},c.a.createElement(H,{nameAuthor:d.name,toggleModal:I}),v&&c.a.createElement(T,Object.assign({notificationClassName:k},{notification:c.a.createElement(c.a.Fragment,null,Object(h.a)(v).map(function(e,t){return c.a.createElement("span",{key:t},e)}))})),m.length?m.map(function(e,t){var a=e.id,n=e.title,r=e.name;return c.a.createElement(D,{key:t,handleDeletedPost:function(){return S(a)},title:n,pathnameId:a,name:r})}):w,c.a.createElement(j.a,{isOpen:o,contentLabel:"onRequestClose Example",onRequestClose:I,className:"Modal",overlayClassName:"Overlay mainOverlay",ariaHideApp:!1},c.a.createElement(P,{userId:+t.userId,closeModal:I})))},B=a(13),U=a(35),q=a(3),W={posts:[]},G={users:[],user:{}},z={comment:[]},J={notification:""},K=Object(B.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return Object(q.a)({},e,{posts:t.payload});case"NEW_POST":return Object(q.a)({},e,{posts:[].concat(Object(h.a)(e.posts),[t.payload])});case"DELETE_POST":return Object(q.a)({},e,{posts:Object(h.a)(e.posts.filter(function(e){return e.id!==t.payload}))});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return Object(q.a)({},e,{users:t.payload});case"FETCH_SINGLE_USERS":return Object(q.a)({},e,{user:t.payload});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COMMENTS":return Object(q.a)({},e,{comment:t.payload});case"NEW_COMMENT":return Object(q.a)({},e,{comment:[].concat(Object(h.a)(e.comment),[t.payload])});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIAL":return Object(q.a)({},e,{notification:""});case"PENDING":return Object(q.a)({},e,{notification:"Adding..."});case"DELETE":return Object(q.a)({},e,{notification:"Removing..."});case"SUCCESS":return Object(q.a)({},e,{notification:"Success"});case"ERROR":return Object(q.a)({},e,{notification:"Error! Try again"});default:return e}}}),Q=B.d,V=Object(B.e)(K,{},Q(Object(B.a)(U.a)));a(56);o.a.render(c.a.createElement(s.a,{store:V},c.a.createElement(i.a,{basename:"/api-post-task"},c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"home-container"},"API ",c.a.createElement("br",null)," Users-Post-Comments"),c.a.createElement(k,null))}}),c.a.createElement(l.a,{path:"/:userId/posts",component:F}),c.a.createElement(l.a,{path:"/:postId/post-comments",component:M})))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.4b1bda99.chunk.js.map